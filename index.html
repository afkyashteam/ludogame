<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ludo Knight - Ultimate Edition</title>
    <link rel="stylesheet" href="style.css">
    <!-- PeerJS लाइब्रेरी को यहाँ से हटा दिया गया है -->
</head>
<body>
    <!-- ऑडियो फाइल्स -->
    <audio id="bg-music" src="https://www.bensound.com/bensound-music/bensound-ukulele.mp3" loop preload="auto"></audio>
    <audio id="dice-sfx" src="https://actions.google.com/sounds/v1/games/dice_roll_to_settle_board_game.ogg" preload="auto"></audio>
    <audio id="capture-sfx" src="https://actions.google.com/sounds/v1/impacts/crash_and_glass_shatter.ogg" preload="auto"></audio>

    <!-- यूनिवर्सल सेटिंग्स आइकॉन -->
    <button id="universal-settings-btn">⚙️</button>

    <!-- मुख्य मेनू स्क्रीन -->
    <div id="main-menu-screen">
        <div class="logo"><div></div><div></div><div></div><div></div></div>
        <h1>Ludo Knight</h1>
        <div class="mode-selection">
            <button class="mode-btn" id="local-play-btn">Local Play</button>
            <button class="mode-btn" id="online-play-btn">Play with Friends</button>
        </div>
    </div>

    <!-- लोकल प्ले की सेटिंग्स -->
    <div id="local-settings-screen" class="hidden">
        <h2>Local Game Setup</h2>
        <div class="player-selection">
            <button class="player-btn" data-players="2">2P</button>
            <button class="player-btn" data-players="3">3P</button>
            <button class="player-btn active" data-players="4">4P</button>
        </div>
        <div class="player-type-selection">
            <div class="player-type-row red"><label>Red:</label><button class="player-type-toggle" data-player="red" data-type="human">Human</button></div>
            <div class="player-type-row green"><label>Green:</label><button class="player-type-toggle" data-player="green" data-type="bot">Bot</button></div>
            <div class="player-type-row yellow"><label>Yellow:</label><button class="player-type-toggle" data-player="yellow" data-type="human">Human</button></div>
            <div class="player-type-row blue"><label>Blue:</label><button class="player-type-toggle" data-player="blue" data-type="bot">Bot</button></div>
        </div>
        <div class="menu-controls">
            <button class="menu-back-btn" data-target="main-menu-screen">Back</button>
            <button id="start-local-game-btn">Start Game</button>
        </div>
    </div>

    <!-- ऑनलाइन प्ले की सेटिंग्स -->
    <div id="online-settings-screen" class="hidden">
        <h2>Online Game Setup</h2>
        <button id="create-online-game-btn" class="online-menu-btn">Create Game</button>
        <div class="join-section">
            <input type="text" id="join-code-input" placeholder="Enter Friend's ID">
            <button id="join-online-game-btn">Join Game</button>
        </div>
        <div class="menu-controls">
            <button class="menu-back-btn" data-target="main-menu-screen">Back</button>
        </div>
    </div>

    <!-- ऑनलाइन लॉबी/वेटिंग एरिया -->
    <div id="online-lobby-screen" class="hidden">
        <h2>Game Lobby</h2>
        <p>Share this ID with your friends:</p>
        <h3 id="game-code-display" title="Click to copy">------</h3>
        <p>Players in Lobby (<span id="players-in-lobby">1</span>/<span id="total-players-lobby">4</span>):</p>
        <div id="lobby-player-list">
            <!-- प्लेयर यहाँ JS से जोड़े जाएंगे -->
        </div>
        <p id="lobby-status">Waiting for other players to join...</p>
        <div class="menu-controls">
             <button id="start-online-game-btn" class="hidden">Start Game</button>
        </div>
    </div>
    
    <!-- गेम कंटेनर -->
    <div id="game-container" class="hidden">
        <div id="game-board">
            <div class="player-home red-home"><div class="home-square"></div><div class="score-display">0</div><div class="timer-display"></div></div>
            <div class="player-home green-home"><div class="home-square"></div><div class="score-display">0</div><div class="timer-display"></div></div>
            <div class="player-home blue-home"><div class="home-square"></div><div class="score-display">0</div><div class="timer-display"></div></div>
            <div class="player-home yellow-home"><div class="home-square"></div><div class="score-display">0</div><div class="timer-display"></div></div>
            <div class="center-triangle"></div>
        </div>
        <div class="dice-container red-dice"><div class="dice" data-color="red"></div></div>
        <div class="dice-container green-dice"><div class="dice" data-color="green"></div></div>
        <div class="dice-container yellow-dice"><div class="dice" data-color="yellow"></div></div>
        <div class="dice-container blue-dice"><div class="dice" data-color="blue"></div></div>
    </div>
    
    <!-- यूनिवर्सल सेटिंग्स मोडल -->
    <div id="settings-modal" class="hidden">
        <div class="settings-content">
            <h2>Settings</h2>
            <button id="toggle-music-btn" class="settings-btn">Music: ON</button>
            <button id="exit-game-btn" class="settings-btn">Exit Game</button>
            <button id="close-settings-btn" class="settings-btn">Close</button>
        </div>
    </div>

    <!-- SCRIPTS (FIXED ORDER) -->
    <!-- 1. बाहरी लाइब्रेरी (PeerJS) को पहले लोड करें -->
    <script src="https://unpkg.com/peerjs@1.4.7/dist/peer.min.js"></script>
    
    <!-- 2. आपकी अपनी गेम लॉजिक स्क्रिप्ट को बाद में लोड करें -->
    <script src="script.js"></script>
</body>
</html>